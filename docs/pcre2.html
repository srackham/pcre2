<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>pcre2 | vdoc</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">
  <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  
		<link rel="stylesheet" href="doc.css" />
		<link rel="stylesheet" href="normalize.css" />
		<script src="dark-mode.js"></script>
</head>

<body>
  <div><a id="skip-to-content-link" href="#main-content">Skip to content</a></div>
  <div id="page">
    <header class="doc-nav hidden">
      <div class="heading-container">
        <div class="heading">
          <div class="info">
            <div class="module">pcre2</div>
            <div class="toggle-version-container">
              <span>0.2.0 407bb66</span>
              <div id="dark-mode-toggle" role="switch" aria-checked="false" aria-label="Toggle dark mode"><svg xmlns="http://www.w3.org/2000/svg" class="light-icon" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="dark-icon" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><g><path d="M11.1,12.08C8.77,7.57,10.6,3.6,11.63,2.01C6.27,2.2,1.98,6.59,1.98,12c0,0.14,0.02,0.28,0.02,0.42 C2.62,12.15,3.29,12,4,12c1.66,0,3.18,0.83,4.1,2.15C9.77,14.63,11,16.17,11,18c0,1.52-0.87,2.83-2.12,3.51 c0.98,0.32,2.03,0.5,3.11,0.5c3.5,0,6.58-1.8,8.37-4.52C18,17.72,13.38,16.52,11.1,12.08z"/></g><path d="M7,16l-0.18,0C6.4,14.84,5.3,14,4,14c-1.66,0-3,1.34-3,3s1.34,3,3,3c0.62,0,2.49,0,3,0c1.1,0,2-0.9,2-2 C9,16.9,8.1,16,7,16z"/></g></g></svg>
</div>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" id="toggle-menu" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>

          </div>
          <input type="text" id="search" placeholder="Search... (beta)" autocomplete="off">
        </div>
      </div>
      <nav class="search hidden"></nav>
      <nav class="content hidden">
        <ul>
          <li class="open"><a href="#readme_pcre2">README</a></li>
<li class="open"><a href="#compile">fn compile</a>        <ul>
</ul>
</li>
<li class="open"><a href="#escape_meta">fn escape_meta</a>        <ul>
</ul>
</li>
<li class="open"><a href="#must_compile">fn must_compile</a>        <ul>
</ul>
</li>
<li class="open"><a href="#Regex">struct Regex</a>        <ul>
<li><a href="#Regex.==">fn ==</a></li>
<li><a href="#Regex.str">fn str</a></li>
<li><a href="#Regex.is_nil">fn is_nil</a></li>
<li><a href="#Regex.free">fn free</a></li>
<li><a href="#Regex.is_match">fn is_match</a></li>
<li><a href="#Regex.find_all">fn find_all</a></li>
<li><a href="#Regex.find_one">fn find_one</a></li>
<li><a href="#Regex.find_all_index">fn find_all_index</a></li>
<li><a href="#Regex.find_one_index">fn find_one_index</a></li>
<li><a href="#Regex.find_all_submatch">fn find_all_submatch</a></li>
<li><a href="#Regex.find_one_submatch">fn find_one_submatch</a></li>
<li><a href="#Regex.replace_all">fn replace_all</a></li>
<li><a href="#Regex.replace_one">fn replace_one</a></li>
<li><a href="#Regex.replace_all_fn">fn replace_all_fn</a></li>
<li><a href="#Regex.replace_one_fn">fn replace_one_fn</a></li>
<li><a href="#Regex.replace_all_submatch_fn">fn replace_all_submatch_fn</a></li>
<li><a href="#Regex.replace_one_submatch_fn">fn replace_one_submatch_fn</a></li>
<li><a href="#Regex.replace_all_extended">fn replace_all_extended</a></li>
<li><a href="#Regex.replace_one_extended">fn replace_one_extended</a></li>
<li><a href="#Regex.split_all">fn split_all</a></li>
<li><a href="#Regex.split_one">fn split_one</a></li>
</ul>
</li>

        </ul>
      </nav>
    </header>
    <div class="doc-scrollview" id="main-content">
      <div class="doc-container">
        <div class="doc-content">
          						<section id="readme_pcre2" class="doc-node">
							<div class="title"><h1> pcre2 <a href="#readme_pcre2">#</a></h1></div><h1>pcre2</h1>
<p><strong>NOTE</strong>: This release is graded alpha and is likely to experience API
changes up until the 1.0 release.</p>
<h2>Overview</h2>
<p>A V library module for processing <a href="https://en.wikipedia.org/wiki/Perl_Compatible_Regular_Expressions">Perl Compatible Regular Expressions (PCRE)</a> using the <a href="https://www.pcre.org/">PCRE2 library</a>.</p>
<ul>
<li>The <code>pcre2</code> module is a wrapper for the PCRE2 8-bit runtime library.</li>
<li>Regex <code>find_*</code> methods search a <code>subject</code> string for regular expression matches.</li>
<li>Regex <code>replace_*</code> methods return a string in which matches in the <code>subject</code>
string are replaced by a replacement string or the result of a replacement function.</li>
<li>Regex <code>*_all_*</code> methods process all matches; <code>*_one_*</code> methods process the first match.</li>
<li>The Regex <code>replace_*_extended</code> methods support the PCRE2 extended replacements string syntax (see <code>PCRE2_SUBSTITUTE_EXTENDED</code> in the <a href="https://www.pcre.org/current/doc/html/pcre2api.html">pcre2api</a> man page).</li>
<li>Currently there are no extraction methods for named subpatterns.</li>
<li>The <a href="https://github.com/vlang/pcre">pcre module</a> (which uses the older PCRE library) was the inspiration and starting point for this project;
the <a href="https://pkg.go.dev/regexp">Go regex package</a> also influenced the project.</li>
</ul>
<h2>Documentation</h2>
<ul>
<li><a href="https://srackham.github.io/pcre2/pcre2.html">pcre2 module documentation</a>.</li>
<li><a href="https://www.pcre.org/current/doc/html/pcre2syntax.html">PCRE regular expressions syntax</a>.</li>
<li><a href="https://github.com/srackham/pcre2">Github repository</a></li>
</ul>
<h2>Examples</h2>
<pre><code class="language-v">import srackham.pcre2

fn main() {
    // Match words starting with `d` or `n`.
    r := pcre2.must_compile(r'\b([dn].*?)\b')

    subject := 'Lorem nisi dis diam a cras placerat natoque'

    // Extract array of all matched strings.
    a := r.find_all(subject)
    println(a) // ['nisi', 'dis', 'diam', 'natoque']

    // Quote matched words.
    s1 := r.replace_all(subject, '&quot;$1&quot;')
    println(s1) // 'Lorem &quot;nisi&quot; &quot;dis&quot; &quot;diam&quot; a cras placerat &quot;natoque&quot;'

    // Replace all matched strings with upper case.
    s2 := r.replace_all_fn(subject, fn (m string) string {
        return m.to_upper()
    })
    println(s2) // 'Lorem NISI DIS DIAM a cras placerat NATOQUE'

    // Replace all matched strings with upper case (PCRE2 extended replacement syntax).
    s3 := r.replace_all_extended(subject, r'\U$1')
    println(s3) // 'Lorem NISI DIS DIAM a cras placerat NATOQUE'
}
</code></pre>
<p>For more examples see inside the <a href="https://github.com/srackham/pcre2/tree/master/examples">examples directory</a> and take a look at the <a href="https://github.com/srackham/pcre2/blob/master/pcre2_test.v">module tests</a>.</p>
<h2>Dependencies</h2>
<p>Install the PCRE2 library:</p>
<p><strong>Arch Linux and Manjaro</strong>: <code>pacman -S pcre2</code></p>
<p><strong>Debian and Ubuntu</strong>: <code>apt install libpcre2-dev</code></p>
<p><strong>Fedora</strong>: <code>yum install pcre2-devel</code></p>
<p><strong>macOS</strong>: <code>brew install pcre2</code></p>
<p><strong>Windows</strong> †: <code>pacman.exe -S mingw-w64-x86_64-pcre2</code></p>
<p>† Uses the <a href="https://www.msys2.org/">MSYS2</a> package management tools.</p>
<h2>Installation</h2>
<pre><code>v install srackham.pcre2
</code></pre>
<p>Test the installation by running:</p>
<pre><code>v test $HOME/.vmodules/srackham/pcre2
</code></pre>
<p>Example installation and test workflows for Ubuntu, macOS and Windows can be found in the Github Actions <a href="https://github.com/srackham/pcre2/blob/master/.github/workflows/ci.yml">workflow file</a>.</p>

</section>

						<section id="compile" class="doc-node">
							<div class="title"><h2>fn compile <a href="#compile">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">compile</span><span class="token punctuation">(</span>pattern <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">!</span>Regex</code></pre>
<p><code>compile</code> parses a regular expression <code>pattern</code> and returns the corresponding <code>Regexp</code> struct.<br>
If the pattern fails to parse an error is returned.</p>

</section>
						<section id="escape_meta" class="doc-node">
							<div class="title"><h2>fn escape_meta <a href="#escape_meta">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">escape_meta</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span></code></pre>
<p><code>escape_meta</code> returns a string that escapes all regular expression metacharacters inside the argument text. The returned string is a regular expression matching the literal text.</p>

<section class="doc-node examples"><h4>Example</h4>
<pre><code class="language-v"><span class="token keyword">assert</span> <span class="token function">escape_meta</span><span class="token punctuation">(</span>r<span class="token string">'\.+*?()|[]{}^$'</span><span class="token punctuation">)</span> <span class="token operator">==</span> r<span class="token string">'\\\.\+\*\?\(\)\|\[\]\{\}\^\$'</span></code></pre>
</section>
</section>
						<section id="must_compile" class="doc-node">
							<div class="title"><h2>fn must_compile <a href="#must_compile">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">must_compile</span><span class="token punctuation">(</span>pattern <span class="token builtin">string</span><span class="token punctuation">)</span> Regex</code></pre>
<p><code>must_compile</code> is like <code>compile</code> but panics if the regex <code>pattern</code> cannot be parsed.</p>

</section>
						<section id="Regex" class="doc-node">
							<div class="title"><h2>struct Regex <a href="#Regex">#</a></h2></div><pre class="signature"><code><span class="token keyword">struct</span> <span class="token symbol">Regex</span> <span class="token punctuation">{</span>
<span class="token keyword">pub</span><span class="token punctuation">:</span>
	pattern          <span class="token builtin">string</span>
	subpattern_count <span class="token builtin">int</span>
<span class="token keyword">mut</span><span class="token punctuation">:</span>
	re <span class="token operator">&</span>C<span class="token punctuation">.</span>pcre2_code <span class="token operator">=</span> <span class="token keyword">unsafe</span> <span class="token punctuation">{</span> <span class="token keyword">nil</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p><code>Regex</code> contains the compiled regular expression.</p>
<ul>
<li><code>pattern</code> is the regular expression pattern.</li>
<li><code>subpattern_count</code> is the number of capturing subpatterns.</li>
<li><code>re</code> is a pointer to the compiled PCRE2 regular expression.</li>
</ul>

</section>
						<section id="Regex.==" class="doc-node">
							<div class="title"><h2>fn (Regex) == <a href="#Regex.==">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r1 Regex<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span>r2 Regex<span class="token punctuation">)</span> <span class="token builtin">bool</span></code></pre>


</section>
						<section id="Regex.str" class="doc-node">
							<div class="title"><h2>fn (Regex) str <a href="#Regex.str">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r Regex<span class="token punctuation">)</span> <span class="token function">str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span></code></pre>
<p><code>str</code> returns a human-readable representation of a <code>Regex</code>.</p>

</section>
						<section id="Regex.is_nil" class="doc-node">
							<div class="title"><h2>fn (Regex) is_nil <a href="#Regex.is_nil">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r Regex<span class="token punctuation">)</span> <span class="token function">is_nil</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span></code></pre>
<p><code>is_nil</code> returns true if the <code>r</code> has not been initialized with a compiled PCRE2 regular expression.</p>

</section>
						<section id="Regex.free" class="doc-node">
							<div class="title"><h2>fn (Regex) free <a href="#Regex.free">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">free</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p><code>free</code> disposes memory allocated to the PCRE2 compiled regex.<br>
If V's <code>-autofree</code> option is enabled V's autofree engine calls <code>free</code> automatically when it disposes the <code>Regex</code> struct.</p>

</section>
						<section id="Regex.is_match" class="doc-node">
							<div class="title"><h2>fn (Regex) is_match <a href="#Regex.is_match">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">is_match</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">bool</span></code></pre>
<p><code>is_match</code> return <code>true</code> if the <code>subject</code> string contains a match for the regular expression; if no then <code>false</code> is returned.</p>

</section>
						<section id="Regex.find_all" class="doc-node">
							<div class="title"><h2>fn (Regex) find_all <a href="#Regex.find_all">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">find_all</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span></code></pre>
<p><code>find_all</code> returns an array containing all matched strings from the <code>subject</code> string.</p>

<section class="doc-node examples"><h4>Example</h4>
<pre><code class="language-v"><span class="token keyword">assert</span> <span class="token function">must_compile</span><span class="token punctuation">(</span>r<span class="token string">'\d'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find_all</span><span class="token punctuation">(</span><span class="token string">'1 abc 9 de 5 g'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">]</span></code></pre>
</section>
</section>
						<section id="Regex.find_one" class="doc-node">
							<div class="title"><h2>fn (Regex) find_one <a href="#Regex.find_one">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">find_one</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token builtin">string</span></code></pre>
<p><code>find_one</code> returns the first matched string from the <code>subject</code> string.<br>
If a match is not found <code>none</code> returned.</p>

<section class="doc-node examples"><h4>Example</h4>
<pre><code class="language-v"><span class="token keyword">assert</span> <span class="token function">must_compile</span><span class="token punctuation">(</span>r<span class="token string">'\d'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find_one</span><span class="token punctuation">(</span><span class="token string">'1 abc 9 de 5 g'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'1'</span></code></pre>
</section>
</section>
						<section id="Regex.find_all_index" class="doc-node">
							<div class="title"><h2>fn (Regex) find_all_index <a href="#Regex.find_all_index">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">find_all_index</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span></code></pre>
<p><code>find_all_index</code> searches <code>subject</code> for all matches and returns an array; each element of the array is an array of byte indexes identifying the match and submatches within the <code>subject</code> (see <code>find_one_index</code> for details).</p>

</section>
						<section id="Regex.find_one_index" class="doc-node">
							<div class="title"><h2>fn (Regex) find_one_index <a href="#Regex.find_one_index">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">find_one_index</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span></code></pre>
<p><code>find_one_index</code> searches <code>subject</code> for the first match and returns an array of <code>subject</code> byte indexes identifying the match and submatches.</p>
<ul>
<li><code>result[0]..result[1]</code> is the entire match.</li>
<li><code>result[2*N..2*N+2]</code> is the Nth submatch (N = 1...).</li>
<li>If a subpattern did not participate in the match its indexes will be <code>-1</code>.</li>
<li>If no match is found <code>none</code> is returned.</li>
</ul>

</section>
						<section id="Regex.find_all_submatch" class="doc-node">
							<div class="title"><h2>fn (Regex) find_all_submatch <a href="#Regex.find_all_submatch">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">find_all_submatch</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span></code></pre>
<p><code>find_all_submatch</code> searchs the <code>subject</code> string for all regular expression matches and returns an array containing match and submatches text.</p>
<ul>
<li>Each match contributes an element to the result array.</li>
<li>Each result array element is an array containing the matched text (at index 0) plus any submatches (at indexes 1..).</li>
<li>If a subpattern did not participate in the match the corresponding element is set to ''.</li>
</ul>

</section>
						<section id="Regex.find_one_submatch" class="doc-node">
							<div class="title"><h2>fn (Regex) find_one_submatch <a href="#Regex.find_one_submatch">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">find_one_submatch</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span></code></pre>
<p><code>find_one_submatch</code> searchs the <code>subject</code> string for the first regular expression match and returns an array containing match and submatches text.</p>
<ul>
<li>The first element (at index 0) contains the the entire matched text.</li>
<li>Subsequent elements (indexes 1..) contain corresponding matched subpatterns</li>
<li>If a subpattern did not participate in the match the corresponding array element is set to ''.</li>
<li>If a match is not found <code>none</code> is returned.</li>
</ul>

</section>
						<section id="Regex.replace_all" class="doc-node">
							<div class="title"><h2>fn (Regex) replace_all <a href="#Regex.replace_all">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">replace_all</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">,</span> repl <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span></code></pre>
<p><code>replace_all</code> returns a copy of the <code>subject</code> string with all matches of the regular expression replaced by the <code>repl</code> string.</p>
<ul>
<li><code>$0</code>...<code>$99</code> in the <code>repl</code> string are replaced by matching text; the number zero refers to the entire matched substring; higher numbers refer to substrings captured by parenthesized subpatterns e.g. <code>$1</code> refers to the first submatch.</li>
<li>References to undefined subpatterns are not replaced.</li>
<li>Subpatterns that did not participate in the match replaced with ''.</li>
<li>To insert a literal <code>$</code> in the output, use <code>$$</code>.</li>
</ul>

</section>
						<section id="Regex.replace_one" class="doc-node">
							<div class="title"><h2>fn (Regex) replace_one <a href="#Regex.replace_one">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">replace_one</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">,</span> repl <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span></code></pre>
<p><code>replace_one</code> returns a copy of the <code>subject</code> string in with the first match of the regular expression replaced by the <code>repl</code> string.<br>
In all other respects behaves like the <code>replace_all</code> method.</p>

</section>
						<section id="Regex.replace_all_fn" class="doc-node">
							<div class="title"><h2>fn (Regex) replace_all_fn <a href="#Regex.replace_all_fn">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">replace_all_fn</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">,</span> repl <span class="token keyword">fn</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span></code></pre>
<p><code>replace_all_fn</code> returns a copy of the <code>subject</code> string with all regular expression matches replaced by the return value of the <code>repl</code> callback function.</p>
<ul>
<li>The <code>repl</code> function is passed a string containing the matched text.</li>
</ul>

</section>
						<section id="Regex.replace_one_fn" class="doc-node">
							<div class="title"><h2>fn (Regex) replace_one_fn <a href="#Regex.replace_one_fn">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">replace_one_fn</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">,</span> repl <span class="token keyword">fn</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span></code></pre>
<p><code>replace_one_fn</code> returns a copy of the <code>subject</code> string with the first regular expression match replaced by the return value of the <code>repl</code> callback function.</p>
<ul>
<li>The <code>repl</code> function is passed a string containing the matched text.</li>
</ul>

</section>
						<section id="Regex.replace_all_submatch_fn" class="doc-node">
							<div class="title"><h2>fn (Regex) replace_all_submatch_fn <a href="#Regex.replace_all_submatch_fn">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">replace_all_submatch_fn</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">,</span> repl <span class="token keyword">fn</span> <span class="token punctuation">(</span>matches <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span></code></pre>
<p><code>replace_all_submatch_fn</code> returns a copy of the <code>subject</code> string with all regular expression matches replaced by the return value of the <code>repl</code> callback function.</p>
<ul>
<li>The <code>repl</code> function is passed a <code>matches</code> array containing the matched text (<code>matches[0]</code>) and any submatches (<code>matches[1..]</code>).</li>
<li>If a subpattern did not participate in the match the corresponding <code>matches</code> element is set to ''.</li>
</ul>

</section>
						<section id="Regex.replace_one_submatch_fn" class="doc-node">
							<div class="title"><h2>fn (Regex) replace_one_submatch_fn <a href="#Regex.replace_one_submatch_fn">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">replace_one_submatch_fn</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">,</span> repl <span class="token keyword">fn</span> <span class="token punctuation">(</span>matches <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span></code></pre>
<p><code>replace_one_submatch_fn</code> returns a copy of the <code>subject</code> string with the first regular expression match replaced by the return value of the <code>repl</code> callback function.</p>
<ul>
<li>The <code>repl</code> function is passed a <code>matches</code> array containing the matched text (<code>matches[0]</code>) and any submatches (<code>matches[1..]</code>).</li>
<li>If a subpattern did not participate in the match the corresponding <code>matches</code> element is set to ''.</li>
</ul>

</section>
						<section id="Regex.replace_all_extended" class="doc-node">
							<div class="title"><h2>fn (Regex) replace_all_extended <a href="#Regex.replace_all_extended">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">replace_all_extended</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">,</span> repl <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span></code></pre>
<p><code>replace_all_extended</code> returns a copy of the <code>subject</code> string with all matches of the regular expression replaced by the <code>repl</code> string.<br>
The <code>repl</code> string supports the PCRE2 extended replacements string syntax (see <code>PCRE2_SUBSTITUTE_EXTENDED</code> in the <a href="https://www.pcre.org/current/doc/html/pcre2api.html">pcre2api</a> man page).</p>

</section>
						<section id="Regex.replace_one_extended" class="doc-node">
							<div class="title"><h2>fn (Regex) replace_one_extended <a href="#Regex.replace_one_extended">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">replace_one_extended</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">,</span> repl <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span></code></pre>
<p><code>replace_one_extended</code> returns a copy of the <code>subject</code> string with the first match of the regular expression replaced by the <code>repl</code> string.<br>
The <code>repl</code> string supports the PCRE2 extended replacements string syntax (see <code>PCRE2_SUBSTITUTE_EXTENDED</code> in the <a href="https://www.pcre.org/current/doc/html/pcre2api.html">pcre2api</a> man page).</p>

</section>
						<section id="Regex.split_all" class="doc-node">
							<div class="title"><h2>fn (Regex) split_all <a href="#Regex.split_all">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">split_all</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span></code></pre>
<p><code>split_all</code> splits the <code>subject</code> string at regular expression match boundaries and returns an array of the split strings.<br>
If no matches are found a single-element array containing <code>subject</code> string is returned.</p>

</section>
						<section id="Regex.split_one" class="doc-node">
							<div class="title"><h2>fn (Regex) split_one <a href="#Regex.split_one">#</a></h2></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span>r <span class="token operator">&</span>Regex<span class="token punctuation">)</span> <span class="token function">split_one</span><span class="token punctuation">(</span>subject <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span></code></pre>
<p><code>split_one</code> splits the <code>subject</code> string at the first regular expression match boundary and returns an array of the two split strings.<br>
If no match is found <code>none</code> is returned.</p>

</section>

          <div class="footer">
            Powered by vdoc. Generated on: 8 Nov 2022 16:02:27
          </div>
        </div>
        
      </div>
    </div>
  </div>
  <script src="doc.js"></script>
  <script async src="search_index.js"></script>
</body>

</html>
